function randomizeCapitalization(e){for(i=0;i<e.length;i++)Math.random()>.5&&(e=e.substring(0,i)+e[i].toUpperCase()+e.substring(i+1));return e}function randomizeArray(e){var r=[];for(i=0;i<e.length;i=0){var t=Math.floor(Math.random()*e.length);r.push(e[t]),e.splice(t,1)}return r}function getParameters(){parameters={},parameters.capitalizationOption=document.getElementById("capitalizationSelect").value,parameters.numbersQuantity=parseInt(document.getElementById("addNumbersInput").value),parameters.generateWithSymbols=document.getElementById("checkboxSymbol").checked,parameters.symbolsScheme=parameters.generateWithSymbols?document.querySelector("input[name=radioSymbol]:checked").value:null,parameters.symbolsToAdd="userDefined"===parameters.symbolsScheme?document.getElementById("addSymbolsInput").value.split(","):null,parameters.generateWithNumbers=document.getElementById("checkboxNumbers").checked,parameters.wordnikParameters={hasDictionaryDef:"true",includePartOfSpeech:"noun",minLength:parseInt(document.getElementById("lengthFrom").value),maxLength:parseInt(document.getElementById("lengthTo").value),limit:parseInt(document.getElementById("wordQuantity").value),minCorpusCount:1,maxCorpusCount:-1,minDictionaryCount:1,maxDictionaryCount:-1,apiUrl:"http://api.wordnik.com:80/v4/words.json/randomWords",key:"a7ed8b27e3cc25fb5200c0bb50702461a1decb749750db2f0"},storeData()}function getWordnikUrl(e){return e.apiUrl+"?hasDictionaryDef="+e.hasDictionaryDef+"&includePartOfSpeech="+e.includePartOfSpeech+"&minCorpusCount="+e.minCorpusCount+"&maxCorpusCount="+e.maxCorpusCount+"&minDictionaryCount="+e.minDictionaryCount+"&maxDictionaryCount="+e.maxDictionaryCount+"&minLength="+e.minLength+"&maxLength="+e.maxLength+"&limit=1&api_key="+e.key+"&noCache="+generateNumber(10)}function generateWord(e){var r=getWordnikUrl(parameters.wordnikParameters);$.ajax({url:r,cache:!1,success:function(r){0!==r.length&&(generatedWords.push(generateCapitalization(parameters.capitalizationOption,r[0].word)),void 0===currentPassword?currentPassword=generatedWords[generatedWords.length-1]:currentPassword+=generatedWords[generatedWords.length-1],e&&e())}})}function generateAddSymbols(){"userDefined"!==parameters.symbolsScheme&&parameters.generateWithSymbols?"systemDefined"===parameters.symbolsScheme&&symbolsSystemDefined():symbolsUserDefined()}function generateCapitalization(e,r){switch(e=e.toLowerCase(),r=r.toLowerCase(),e){case"upper":return r.toUpperCase();case"camelcase":return r[0].toUpperCase()+r.substring(1);case"random":return randomizeCapitalization(r);default:return r}}function generateNumber(e){var r="";for(i=0;i<e;i++)r+=Math.floor(10*Math.random());return r}function generatePassword(){if(currentPassword="",generateUpdatePassword(currentPassword),document.getElementById("generatedContent").style.display="block",document.getElementById("generatedContent").textContent="Generating password...",generatedWords=[],parameters.wordnikParameters.limit>0)for(i=0;i<parameters.wordnikParameters.limit;i++)generateWord(generateAddSymbols);else generateAddSymbols()}function generateUpdatePassword(e){document.getElementById("passwordProgress").style.display="block",document.getElementById("passwordProgress").textContent="Current password is: "+e}function symbolsUserDefined(){var e=[];if(generatedWords.length===parameters.wordnikParameters.limit){null!==parameters.symbolsToAdd&&(e=randomizeArray(parameters.symbolsToAdd));var r="";if(parameters.generateWithSymbols===!0){if(0===generatedWords.length)for(i=0;i<e.length;i++)r+=e[i],currentPassword=r,generateUpdatePassword(currentPassword);var t=Math.floor(generatedWords.length/e.length),a=Math.floor(e.length/generatedWords.length);if(a>t==!0)for(i=0;i<generatedWords.length;i++)for(r+=generatedWords[i],j=0;j<a;j++)r+=e[0],currentPassword=r,generateUpdatePassword(currentPassword),e.splice(0,1);else if(t===a)for(i=0;i<generatedWords.length;i++)r+=generatedWords[i],r+=e[i],currentPassword=r,generateUpdatePassword(currentPassword);else if(t>a)for(i=0;i<generatedWords.length/t;i++){for(j=0;j<t;j++)r+=generatedWords[0],currentPassword=r,generateUpdatePassword(currentPassword),generatedWords.splice(0,1);r+=e[i]}}else{for(i=0;i<generatedWords.length;i++)r+=generatedWords[i];currentPassword=r,generateUpdatePassword(currentPassword)}parameters.generateWithNumbers===!0&&(r+=generateNumber(parameters.numbersQuantity),currentPassword=r,generateUpdatePassword(currentPassword)),document.getElementById("generatedContent").innerHTML="<b>YOUR PASSWORD:</b><br>"+r,document.getElementById("generatedContent").style.display="block",document.getElementById("passwordProgress").style.display="none"}}function symbolsSystemDefined(){if(generatedWords.length===parameters.wordnikParameters.limit){var e="",r=["a","A","E","o","O","l"],t=["@","4","3","0","0","1"];for(j=0;j<generatedWords.length;j++){var a=generatedWords[j];for(i=0;i<a.length;i++){var n=r.indexOf(a[i]);n>=0&&Math.random()>=.5?(e+=t[n],currentPassword=e,generateUpdatePassword(currentPassword)):(e+=a[i],currentPassword=e,generateUpdatePassword(currentPassword))}}document.getElementById("generatedContent").innerHTML="<b>YOUR PASSWORD:</b><br>"+e,document.getElementById("generatedContent").style.display="block",document.getElementById("passwordProgress").style.display="none"}}var parameters={};$("select").change(getParameters),$("input").change(getParameters);